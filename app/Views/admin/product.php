<!DOCTYPE html>
<html lang="en">
    
<!-- Mirrored from dreamguys.co.in/demo/doccure/admin/blank-page.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2019 04:12:53 GMT -->
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <title>Doccure - Blank Page</title>
		
		<!-- Favicon -->
        <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
		
		<!-- Bootstrap CSS -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
		
		<!-- Fontawesome CSS -->
        <link rel="stylesheet" href="assets/css/font-awesome.min.css">
		
		<!-- Feathericon CSS -->
        <link rel="stylesheet" href="assets/css/feathericon.min.css">
		
		<!-- Main CSS -->
        <link rel="stylesheet" href="assets/css/style.css">

		<link rel="stylesheet" href="assets/plugins/morris/morris.css">

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

		
		<!--[if lt IE 9]>
			<script src="assets/js/html5shiv.min.js"></script>
			<script src="assets/js/respond.min.js"></script>
		<![endif]-->
    </head>
    <body>
	
		<!-- Main Wrapper -->
        <div class="main-wrapper">
		
			<!-- Header -->
            <div class="header">
			
				<!-- Logo -->
                <div class="header-left">
                    <a href="index.html" class="logo">
						<img src="assets/img/logo.png" alt="Logo">
					</a>
					<a href="index.html" class="logo logo-small">
						<img src="assets/img/logo-small.png" alt="Logo" width="30" height="30">
					</a>
                </div>
				<!-- /Logo -->
				
				<a href="javascript:void(0);" id="toggle_btn">
					<i class="fe fe-text-align-left"></i>
				</a>
				
				<div class="top-nav-search">
					<form>
						<input type="text" class="form-control" placeholder="Search here">
						<button class="btn" type="submit"><i class="fa fa-search"></i></button>
					</form>
				</div>
				
				<!-- Mobile Menu Toggle -->
				<a class="mobile_btn" id="mobile_btn">
					<i class="fa fa-bars"></i>
				</a>
				<!-- /Mobile Menu Toggle -->
				
				<!-- Header Right Menu -->
				<ul class="nav user-menu">
					
					<!-- Notifications -->
					<li class="nav-item dropdown noti-dropdown">
						<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
							<i class="fe fe-bell"></i> <span class="badge badge-pill">3</span>
						</a>
						<div class="dropdown-menu notifications">
							<div class="topnav-dropdown-header">
								<span class="notification-title">Notifications</span>
								<a href="javascript:void(0)" class="clear-noti"> Clear All </a>
							</div>
							<div class="noti-content">
								<ul class="notification-list">
									<li class="notification-message">
										<a href="#">
											<div class="media">
												<span class="avatar avatar-sm">
													<img class="avatar-img rounded-circle" alt="User Image" src="assets/img/doctors/doctor-thumb-01.jpg">
												</span>
												<div class="media-body">
													<p class="noti-details"><span class="noti-title">Dr. Ruby Perrin</span> Schedule <span class="noti-title">her appointment</span></p>
													<p class="noti-time"><span class="notification-time">4 mins ago</span></p>
												</div>
											</div>
										</a>
									</li>
									<li class="notification-message">
										<a href="#">
											<div class="media">
												<span class="avatar avatar-sm">
													<img class="avatar-img rounded-circle" alt="User Image" src="assets/img/patients/patient1.jpg">
												</span>
												<div class="media-body">
													<p class="noti-details"><span class="noti-title">Charlene Reed</span> has booked her appointment to <span class="noti-title">Dr. Ruby Perrin</span></p>
													<p class="noti-time"><span class="notification-time">6 mins ago</span></p>
												</div>
											</div>
										</a>
									</li>
									<li class="notification-message">
										<a href="#">
											<div class="media">
												<span class="avatar avatar-sm">
													<img class="avatar-img rounded-circle" alt="User Image" src="assets/img/patients/patient2.jpg">
												</span>
												<div class="media-body">
												<p class="noti-details"><span class="noti-title">Travis Trimble</span> sent a amount of $210 for his <span class="noti-title">appointment</span></p>
												<p class="noti-time"><span class="notification-time">8 mins ago</span></p>
												</div>
											</div>
										</a>
									</li>
									<li class="notification-message">
										<a href="#">
											<div class="media">
												<span class="avatar avatar-sm">
													<img class="avatar-img rounded-circle" alt="User Image" src="assets/img/patients/patient3.jpg">
												</span>
												<div class="media-body">
													<p class="noti-details"><span class="noti-title">Carl Kelly</span> send a message <span class="noti-title"> to his doctor</span></p>
													<p class="noti-time"><span class="notification-time">12 mins ago</span></p>
												</div>
											</div>
										</a>
									</li>
								</ul>
							</div>
							<div class="topnav-dropdown-footer">
								<a href="#">View all Notifications</a>
							</div>
						</div>
					</li>
					<!-- /Notifications -->
					
					<!-- User Menu -->
					<li class="nav-item dropdown has-arrow">
						<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
							<span class="user-img"><img class="rounded-circle" src="assets/img/profiles/avatar-01.jpg" width="31" alt="Ryan Taylor"></span>
						</a>
						<div class="dropdown-menu">
							<div class="user-header">
								<div class="avatar avatar-sm">
									<img src="assets/img/profiles/avatar-01.jpg" alt="User Image" class="avatar-img rounded-circle">
								</div>
								<div class="user-text">
									<h6>Ryan Taylor</h6>
									<p class="text-muted mb-0">Administrator</p>
								</div>
							</div>
							<a class="dropdown-item" href="profile.html">My Profile</a>
							<a class="dropdown-item" href="settings.html">Settings</a>
							<a class="dropdown-item" href="login.html">Logout</a>
						</div>
					</li>
					<!-- /User Menu -->
					
				</ul>
				<!-- /Header Right Menu -->
				
            </div>
			<!-- /Header -->
			
			<!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-inner slimscroll">
					<div id="sidebar-menu" class="sidebar-menu">
						<ul>
							<li class="menu-title"> 
								<span>Main</span>
							</li>
							<li> 
								<a href="index.html"><i class="fe fe-home"></i> <span>Dashboard</span></a>
							</li>
							<li> 
								<a href="appointment-list.html"><i class="fe fe-layout"></i> <span>Appointments</span></a>
							</li>
							<li> 
								<a href="specialities.html"><i class="fe fe-users"></i> <span>Specialities</span></a>
							</li>
							<li> 
								<a href="doctor-list.html"><i class="fe fe-user-plus"></i> <span>Doctors</span></a>
							</li>
							<li> 
								<a href="patient-list.html"><i class="fe fe-user"></i> <span>Patients</span></a>
							</li>
                            <li> 
								<a href="/Admin/Products"><i class="fe fe-shopping-bag"></i> <span>Products</span></a>
							</li>
							<li> 
								<a href="reviews.html"><i class="fe fe-star-o"></i> <span>Reviews</span></a>
							</li>
							<li> 
								<a href="transactions-list.html"><i class="fe fe-activity"></i> <span>Transactions</span></a>
							</li>
							<li> 
								<a href="settings.html"><i class="fe fe-vector"></i> <span>Settings</span></a>
							</li>
							<li class="submenu">
								<a href="#"><i class="fe fe-document"></i> <span> Reports</span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a href="invoice-report.html">Invoice Reports</a></li>
								</ul>
							</li>
							<li class="menu-title"> 
								<span>Pages</span>
							</li>
							<li> 
								<a href="profile.html"><i class="fe fe-user-plus"></i> <span>Profile</span></a>
							</li>
							<li class="submenu">
								<a href="#"><i class="fe fe-document"></i> <span> Authentication </span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a href="login.html"> Login </a></li>
									<li><a href="register.html"> Register </a></li>
									<li><a href="forgot-password.html"> Forgot Password </a></li>
									<li><a href="lock-screen.html"> Lock Screen </a></li>
								</ul>
							</li>
							<li class="submenu">
								<a href="#"><i class="fe fe-warning"></i> <span> Error Pages </span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a href="error-404.html">404 Error </a></li>
									<li><a href="error-500.html">500 Error </a></li>
								</ul>
							</li>
							<li class="active"> 
								<a href="blank-page.html"><i class="fe fe-file"></i> <span>Blank Page</span></a>
							</li>
							<li class="menu-title"> 
								<span>UI Interface</span>
							</li>
							<li> 
								<a href="components.html"><i class="fe fe-vector"></i> <span>Components</span></a>
							</li>
							<li class="submenu">
								<a href="#"><i class="fe fe-layout"></i> <span> Forms </span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a href="form-basic-inputs.html">Basic Inputs </a></li>
									<li><a href="form-input-groups.html">Input Groups </a></li>
									<li><a href="form-horizontal.html">Horizontal Form </a></li>
									<li><a href="form-vertical.html"> Vertical Form </a></li>
									<li><a href="form-mask.html"> Form Mask </a></li>
									<li><a href="form-validation.html"> Form Validation </a></li>
								</ul>
							</li>
							<li class="submenu">
								<a href="#"><i class="fe fe-table"></i> <span> Tables </span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li><a href="tables-basic.html">Basic Tables </a></li>
									<li><a href="data-tables.html">Data Table </a></li>
								</ul>
							</li>
							<li class="submenu">
								<a href="javascript:void(0);"><i class="fe fe-code"></i> <span>Multi Level</span> <span class="menu-arrow"></span></a>
								<ul style="display: none;">
									<li class="submenu">
										<a href="javascript:void(0);"> <span>Level 1</span> <span class="menu-arrow"></span></a>
										<ul style="display: none;">
											<li><a href="javascript:void(0);"><span>Level 2</span></a></li>
											<li class="submenu">
												<a href="javascript:void(0);"> <span> Level 2</span> <span class="menu-arrow"></span></a>
												<ul style="display: none;">
													<li><a href="javascript:void(0);">Level 3</a></li>
													<li><a href="javascript:void(0);">Level 3</a></li>
												</ul>
											</li>
											<li><a href="javascript:void(0);"> <span>Level 2</span></a></li>
										</ul>
									</li>
									<li>
										<a href="javascript:void(0);"> <span>Level 1</span></a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
                </div>
            </div>
			<!-- /Sidebar -->
			
			<!-- Page Wrapper -->
            <div class="page-wrapper">
                <div class="content container-fluid">
				
					<!-- Page Header -->
					<div class="page-header">
						<div class="row">
							<div class="col-sm-12">
								<h3 class="page-title">Product Management</h3>
								<ul class="breadcrumb">
									<li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
									<li class="breadcrumb-item active">Products</li>
								</ul>
							</div>
						</div>
					</div>
					<!-- /Page Header -->

					<div class="row">
						<div class="col-xl-3 col-sm-6 col-12">
							<div class="card">
								<div class="card-body">
									<div class="dash-widget-header">
										<span class="dash-widget-icon text-primary border-primary">
											<i class="fa fa-shopping-cart"></i>
										</span>
										<div class="dash-count">
											<h3><?php echo $purchaseCount; ?></h3>
										</div>
									</div>
									<div class="dash-widget-info">
										<h6 class="text-muted">Pending Orders</h6>
										<div class="progress progress-sm">
											<?php
											// Ensure $purchaseCount is not negative to avoid division by zero or negative percentages
											$purchaseCount = max(0, $purchaseCount);

											// Calculate percentage
											$percentage = ($purchaseCount / $purchaseCount) * 100; // Since $purchaseCount is the actual count

											// Limit percentage to maximum of 100%
											$percentage = min($percentage, 100);

											// Print the progress bar with dynamic width
											echo '<div class="progress-bar bg-primary" style="width: ' . $percentage . '%;"></div>';
											?>
										</div>

									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 col-12">
							<div class="card">
								<div class="card-body">
									<div class="dash-widget-header">
										<span class="dash-widget-icon text-warning">
										<i class="fe fe-clock"></i>

										</span>
										<div class="dash-count">
											<h3><?php echo $onprocessCount; ?></h3>
										</div>
									</div>
									<div class="dash-widget-info">
										
										<h6 class="text-muted">On Process</h6>
										<div class="progress progress-sm">
											<?php
											// Ensure $purchaseCount is not negative to avoid division by zero or negative percentages
											$onprocessCount = max(0, $onprocessCount);

											// Calculate percentage
											$percentage = ($onprocessCount / $onprocessCount) * 100; // Since $purchaseCount is the actual count

											// Limit percentage to maximum of 100%
											$percentage = min($percentage, 100);

											// Print the progress bar with dynamic width
											echo '<div class="progress-bar bg-warning" style="width: ' . $percentage . '%;"></div>';
											?>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 col-12">
							<div class="card">
								<div class="card-body">
									<div class="dash-widget-header">
										<span class="dash-widget-icon text-success border-success">
										<i class="fa fa-cubes"></i>

										</span>
										<div class="dash-count">
											<h3><?php echo $completeCount; ?></h3>
										</div>
									</div>
									<div class="dash-widget-info">
										
										<h6 class="text-muted">Complete Items</h6>
										<div class="progress progress-sm">
											<?php
											// Ensure $soldCount is not negative
											$completeCount = max(0, $completeCount);

											// Use a fixed value or a different count for the denominator to calculate the percentage
											$totalItems = $completeCount; // Replace $purchaseCount with the total number of items or an appropriate denominator

											// Avoid division by zero
											if ($totalItems > 0) {
												$percentage = ($completeCount / $totalItems) * 100;
											} else {
												$percentage = 0;
											}

											// Limit percentage to a maximum of 100%
											$percentage = min($percentage, 100);

											// Print the progress bar with dynamic width
											echo '<div class="progress-bar bg-success" style="width: ' . $percentage . '%;"></div>';
											?>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-xl-3 col-sm-6 col-12">
							<div class="card">
								<div class="card-body">
									<div class="dash-widget-header">
										<span class="dash-widget-icon text-danger border-danger">
										<i class="fa fa-reply"></i>

										</span>
										<div class="dash-count">
											<h3><?php echo $returnedCount; ?></h3>
										</div>
									</div>
									<div class="dash-widget-info">
										
										<h6 class="text-muted">Returned Items</h6>
										<div class="progress progress-sm">
											<?php
											// Ensure $purchaseCount is not negative to avoid division by zero or negative percentages
											$returnedCount = max(0, $returnedCount);

											// Calculate percentage
											$percentage = ($returnedCount / $returnedCount) * 100; // Since $purchaseCount is the actual count

											// Limit percentage to maximum of 100%
											$percentage = min($percentage, 100);

											// Print the progress bar with dynamic width
											echo '<div class="progress-bar bg-danger" style="width: ' . $percentage . '%;"></div>';
											?>
										</div>
									</div>
								</div>
							</div>
						</div>
						
					</div>

					<!-- /Page Header -->

					<div class="row">
						
						<div class="col-xl-3 col-sm-6 col-12">
							<div class="card">
								<div class="card-body">
									<div class="dash-widget-header">
										<span class="dash-widget-icon text-secondary border-secondary">
										<i class="fa fa-cubes"></i>

										</span>
										<div class="dash-count">
											<h3><?php echo $soldCount; ?></h3>
										</div>
									</div>
									<div class="dash-widget-info">
										
										<h6 class="text-muted">Sold Items</h6>
										<div class="progress progress-sm">
											<?php
											// Ensure $soldCount is not negative
											$soldCount = max(0, $soldCount);

											// Use a fixed value or a different count for the denominator to calculate the percentage
											$totalItems = $completeCount; // Replace $purchaseCount with the total number of items or an appropriate denominator

											// Avoid division by zero
											if ($totalItems > 0) {
												$percentage = ($soldCount / $totalItems) * 100;
											} else {
												$percentage = 0;
											}

											// Limit percentage to a maximum of 100%
											$percentage = min($percentage, 100);

											// Print the progress bar with dynamic width
											echo '<div class="progress-bar bg-secondary" style="width: ' . $percentage . '%;"></div>';
											?>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<hr>

					<!-- Sales Chart -->
<div class="card card-chart">
    <div class="card-header">
        <h4 class="card-title">Product Sales</h4>
        <div class="dropdown">
            <select id="monthDropdown" class="form-control">
                <option value="01">January</option>
                <option value="02">February</option>
                <option value="03">March</option>
                <option value="04">April</option>
                <option value="05">May</option>
                <option value="06">June</option>
                <option value="07">July</option>
                <option value="08">August</option>
                <option value="09">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>
        </div>
    </div>
    <div class="card-body">
        <div id="morrisArea"></div>
    </div>
</div>
<!-- /Sales Chart -->

<script>
$(function() {
    // Data from the server
    var purchaseDailyData = <?= json_encode($purchaseDailyData); ?>;

    // Initialize Morris Area Chart
    var mA = Morris.Area({
        element: 'morrisArea',
        data: purchaseDailyData,
        xkey: 'y',
        ykeys: ['a'],
        labels: ['Sales'],
        lineColors: ['#1b5a90'],
        lineWidth: 2,
        fillOpacity: 0.5,
        gridTextSize: 10,
        hideHover: 'auto',
        resize: true,
        redraw: true
    });

    // Update chart data based on selected month
    $('#monthDropdown').change(function() {
        var selectedMonth = $(this).val();
        var selectedMonthName = $(this).find('option:selected').text();
        
        // Filter data based on the selected month
        var filteredData = purchaseDailyData.filter(function(data) {
            return data.y.slice(5, 7) === selectedMonth;
        });

        // Update chart with filtered data and new label
        mA.options.labels = [selectedMonthName + ' Sales'];
        mA.setData(filteredData);
    });
});
</script>


						
<!-- Feed Activity -->
<div class="card card-table flex-fill">
    <div class="card-header">
        <h4 class="card-title">Recent Purchase</h4>
        <div class="row">
            <div class="col">
                <label for="rowLimit">Show:</label>
                <select id="rowLimit" class="form-control" style="width: auto; display: inline-block;">
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="15">15</option>
                    <option value="20">20</option>
                </select>
                <label for="rowLimit">entries</label>
            </div>
            <div class="col text-right">
                <button id="prevPage" class="btn btn-secondary">Previous</button>
                <button id="nextPage" class="btn btn-secondary">Next</button>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
            <table id="purchaseTable" class="table table-hover table-center mb-0">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Customer</th>
                        <th>Email</th>
                        <th>Product</th>
                        <th>Status</th>
                        <th>Quantity</th>
                        <th>Amount</th>
                        <th>Action</th> <!-- Added action column -->
                    </tr>
                </thead>
                <tbody>
                    <?php foreach ($purchases as $purchase): ?>
                    <tr id="purchase_<?php echo $purchase->PurchaseID; ?>">
                        <td><?php echo $purchase->PurchaseID; ?></td>
                        <td><?php echo $purchase->FirstName; ?> <?php echo $purchase->LastName; ?></td>
                        <td><?php echo $purchase->Email; ?></td>
                        <td><?php echo $purchase->ProductName; ?></td>
                        <td>
                            <form id="form_<?php echo $purchase->PurchaseID; ?>" class="status-form">
                                <input type="hidden" name="purchase_id" value="<?php echo $purchase->PurchaseID; ?>">
                                <select name="status" class="form-control status-select">
                                    <option value="Pending" <?php if ($purchase->Status == 'Pending') echo 'selected'; ?>>Pending</option>
                                    <option value="On-Process" <?php if ($purchase->Status == 'On-Process') echo 'selected'; ?>>On-Process</option>
                                    <option value="Completed" <?php if ($purchase->Status == 'Completed') echo 'selected'; ?>>Completed</option>
                                    <option value="Returned" <?php if ($purchase->Status == 'Returned') echo 'selected'; ?>>Returned</option>
                                </select>
                            </form>
                        </td>
                        <td><?php echo $purchase->Quantity; ?></td>
                        <td><?php echo $purchase->TotalAmount; ?></td>
                        <td>
                            <!-- Add additional actions here if needed -->
                        </td>
                    </tr>
                    <?php endforeach; ?>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!-- /Feed Activity -->

<script>
    // JavaScript to handle status update using AJAX
    document.addEventListener('DOMContentLoaded', function () {
        const statusForms = document.querySelectorAll('.status-form');

        statusForms.forEach(form => {
            form.addEventListener('change', function (event) {
                event.preventDefault();

                const formData = new FormData(form);
                const purchaseId = formData.get('purchase_id');
                const status = formData.get('status');

                fetch('<?php echo base_url('purchase/updateStatus'); ?>', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        // Update the status in the table cell
                        const statusCell = document.querySelector(`#purchase_${purchaseId} .status-select`);
                        statusCell.value = status;
                    } else {
                        alert('Failed to update status.');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while updating status.');
                });
            });
        });
    });
</script>



<script>
	document.addEventListener('DOMContentLoaded', function () {
    const rowLimit = document.getElementById('rowLimit');
    const purchaseTable = document.getElementById('purchaseTable');
    const rows = purchaseTable.getElementsByTagName('tr');
    const prevPageBtn = document.getElementById('prevPage');
    const nextPageBtn = document.getElementById('nextPage');

    let currentPage = 1;
    let rowsPerPage = parseInt(rowLimit.value, 10);

    function updateTable() {
        const startIndex = (currentPage - 1) * rowsPerPage;
        const endIndex = startIndex + rowsPerPage;
        for (let i = 0; i < rows.length; i++) {
            if (i >= startIndex && i < endIndex) {
                rows[i].style.display = '';
            } else {
                rows[i].style.display = 'none';
            }
        }
    }

    function goToPage(page) {
        currentPage = page;
        updateTable();
    }

    rowLimit.addEventListener('change', function () {
        rowsPerPage = parseInt(rowLimit.value, 10);
        goToPage(1); // Reset to the first page when rows per page changes
    });

    prevPageBtn.addEventListener('click', function () {
        if (currentPage > 1) {
            goToPage(currentPage - 1);
        }
    });

    nextPageBtn.addEventListener('click', function () {
        const maxPage = Math.ceil(rows.length / rowsPerPage);
        if (currentPage < maxPage) {
            goToPage(currentPage + 1);
        }
    });

    updateTable(); // Initial call to set up the table
});


</script>


<div class="row">
    <!-- Feed Activity -->
    <div class="col-md-8">
        <div class="card card-table flex-fill">
            <div class="card-header">
                <div class="d-flex justify-content-between align-items-center">
                    <h4 class="card-title mb-0">Best Selling Products</h4>
                    <div class="form-inline">
                        <label for="rowLimit" class="mr-2">Show:</label>
                        <select id="rowLimit" class="form-control">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="15">15</option>
                            <option value="20">20</option>
                        </select>
                        <label for="rowLimit" class="ml-2 mr-2">entries</label>
                        <button id="bprevPage" class="btn btn-secondary mr-2">Previous</button>
                        <button id="bnextPage" class="btn btn-secondary">Next</button>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                    <table class="table table-hover table-center mb-0">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Orders</th>
                            </tr>
                        </thead>
                        <tbody id="bestTable">
                            <?php foreach ($bestselling as $index => $bestsell): ?>
                            <tr class="product-row" data-name="<?php echo $bestsell->Name; ?>" data-brand="<?php echo $bestsell->Brand; ?>" data-type="<?php echo $bestsell->Type; ?>" data-image="<?= base_url('uploads/' . $bestsell->Image_url); ?>" data-quantity="<?php echo $bestsell->TotalQuantity; ?>" <?php echo $index === 0 ? 'id="firstProduct"' : ''; ?>>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="<?= base_url('uploads/' . $bestsell->Image_url); ?>" alt="<?php echo $bestsell->Name; ?>" class="mr-2" style="max-width: 50px; max-height: 50px;">
                                        <div>
                                            <div><?php echo $bestsell->Name; ?></div>
                                            <div><?php echo $bestsell->Brand; ?></div>
                                            <div><?php echo $bestsell->Type; ?></div>
                                        </div>
                                    </div>
                                </td>
                                <td><?php echo $bestsell->TotalQuantity; ?></td>
                            </tr>
                            <?php endforeach; ?>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- /Feed Activity -->

    <!-- Product Viewer Card -->
    <div class="col-md-4 d-flex">
        <div class="card flex-fill">
            <img id="viewerImage" alt="Card Image" src="assets/img/img-01.jpg" class="card-img-top">
            <div class="card-header">
                <h5 id="viewerTitle" class="card-title mb-0">Card with image and list</h5>
            </div>
            <ul class="list-group list-group-flush">
                <li id="viewerName" class="list-group-item">Cras justo odio</li>
                <li id="viewerBrand" class="list-group-item">Dapibus ac facilisis in</li>
                <li id="viewerType" class="list-group-item">Vestibulum at eros</li>
                <li id="viewerQuantity" class="list-group-item">Orders: 0</li>
            </ul>
        </div>
    </div>
    <!-- /Product Viewer Card -->
</div>




<script>
	document.addEventListener('DOMContentLoaded', function () {
    const rowLimit = document.getElementById('rowLimit');
    const purchaseTable = document.getElementById('bestTable');
    const rows = purchaseTable.getElementsByTagName('tr');
    const prevPageBtn = document.getElementById('bprevPage');
    const nextPageBtn = document.getElementById('bnextPage');

    let currentPage = 1;
    let rowsPerPage = parseInt(rowLimit.value, 10);

    function updateTable() {
        const startIndex = (currentPage - 1) * rowsPerPage;
        const endIndex = startIndex + rowsPerPage;
        for (let i = 0; i < rows.length; i++) {
            if (i >= startIndex && i < endIndex) {
                rows[i].style.display = '';
            } else {
                rows[i].style.display = 'none';
            }
        }
    }

    function goToPage(page) {
        currentPage = page;
        updateTable();
    }

    rowLimit.addEventListener('change', function () {
        rowsPerPage = parseInt(rowLimit.value, 10);
        goToPage(1); // Reset to the first page when rows per page changes
    });

    prevPageBtn.addEventListener('click', function () {
        if (currentPage > 1) {
            goToPage(currentPage - 1);
        }
    });

    nextPageBtn.addEventListener('click', function () {
        const maxPage = Math.ceil(rows.length / rowsPerPage);
        if (currentPage < maxPage) {
            goToPage(currentPage + 1);
        }
    });

    updateTable(); // Initial call to set up the table
});


</script>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    function updateProductViewer(row) {
        const name = row.getAttribute('data-name');
        const brand = row.getAttribute('data-brand');
        const type = row.getAttribute('data-type');
        const image = row.getAttribute('data-image');
        const quantity = row.getAttribute('data-quantity');

        // Update the product viewer card
        document.getElementById('viewerImage').src = image;
        document.getElementById('viewerImage').alt = name;
        document.getElementById('viewerTitle').innerText = name;
        document.getElementById('viewerName').innerText = `Name: ${name}`;
        document.getElementById('viewerBrand').innerText = `Brand: ${brand}`;
        document.getElementById('viewerType').innerText = `Type: ${type}`;
        document.getElementById('viewerQuantity').innerText = `Orders: ${quantity}`;
    }

    // Update product viewer with the first product by default
    const firstProductRow = document.getElementById('firstProduct');
    if (firstProductRow) {
        updateProductViewer(firstProductRow);
    }

    // Add click event listener to each product row
    document.querySelectorAll('.product-row').forEach(row => {
        row.addEventListener('click', () => {
            updateProductViewer(row);
        });
    });
});

</script>
							
						

					<!-- /Page Header -->
					<hr>

					<div class="row">
						<div class="col-sm-12">
                            <h4 class="card-title d-flex justify-content-between">
                                <a class="edit-link" href="/Admin/Products/Add_Product"><i class="fa fa-plus-circle"></i> Add Product</a>
                            </h4>
                           
						</div>			
					</div>

                    <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <ul class="nav nav-tabs nav-tabs-bottom">
                                    <li class="nav-item"><a class="nav-link active" href="#bottom-tab1" data-toggle="tab">All Products</a></li>
                                    <!-- Add more tabs as needed for Women, Men, Accessories, etc. -->
                                </ul>

                                <div class="tab-content">
                                    <div class="tab-pane show active" id="bottom-tab1">
                                        <div class="row">
                                            <!-- Loop through products and generate product cards -->
                                            <?php foreach ($products as $product): ?>
                                            <div class="col-md-3 mb-4">
                                                <div class="card product-card">
                                                    <img src="<?= base_url('uploads/' . $product['Image_url']) ?>" class="card-img-top" alt="<?= $product['Name'] ?>">
                                                    <div class="card-body">
                                                        <h5 class="card-title"><?= $product['Name'] ?></h5>
                                                        <p class="card-text">â‚± <?= $product['Price'] ?></p>
                                                        <hr>
                                                        <div class="d-flex justify-content-center">
                                                            <!-- Update button with product ID as parameter -->
                                                            <a href="<?= base_url('/Admin/Products/Edit_Product/' . $product['ProductID']) ?>" class="btn btn-rounded btn-outline-primary">Update</a>
                                                            <button type="button" class="btn btn-rounded btn-danger">Disable</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <?php endforeach; ?>
                                        </div>
                                    </div>
                                    <!-- Add more tab panes for other product categories -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

					
				</div>			
			</div>
			<!-- /Page Wrapper -->
		
        </div>
		<!-- /Main Wrapper -->
		
		<!-- jQuery -->
        <script src="assets/js/jquery-3.2.1.min.js"></script>
		
		<!-- Bootstrap Core JS -->
        <script src="assets/js/popper.min.js"></script>
        <script src="assets/js/bootstrap.min.js"></script>
		
		<!-- Slimscroll JS -->
        <script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
		<script src="assets/plugins/raphael/raphael.min.js"></script>    
		<script src="assets/plugins/morris/morris.min.js"></script>  
		<script src="assets/js/chart.morris.js"></script>
		
		<!-- Custom JS -->
		<script  src="assets/js/script.js"></script>
		
    </body>

<!-- Mirrored from dreamguys.co.in/demo/doccure/admin/blank-page.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2019 04:12:53 GMT -->
</html>